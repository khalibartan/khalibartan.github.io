---
layout: post
title: "Google Summer of Code week 2"

excerpt: ""

tags: [pgmpy, GSoC]
categories: [GSoC]
comments: true
---
During this with some good amount of effort I was able to get ahead from my proposed time line with making sample method work.
 I spend this week time in writing the sample method and reading Handbook of Markov Chain Monte Carlo. 
My experience of reading book proved rather depressing as I wasn't able to even partially gasp content given in introductory chapter but seeing `HamiltonianMCda` class returning samples boosted my morale.

Earlier I wasn't able to test my implementation of find reasonable epsilon method. 
There was a bug in it, and it took me a hard time to find it. 
Actually value returned by numpy.dot was a 2-dimensional single value array, which I treated as a floating value. 
Also I found that numpy.array are more flexible than numpy.matrix and even scipy recommends numpy.array over numpy.matrix [1][1] (though there is a condition, check post).
During this week meeting we decided that we should use numpy.array instead of numpy.matrix, for various reasons mentioned in the post[1][1].

Since sampling method was functional for the first time I was able to actually see the performance of HMC sampler. 
Though theoretically I knew that step-size and number of steps effect performance of algorithm, on actual run difference was clearly visible.
 In dual averaging algorithm sometimes the number of steps value decreased exponentially thus increasing the number of steps with same exponent, and it took ages to run the algorithm even for 5-10 samples.
 Not only the difference was visible due to these parameters, the sample quality was also effected by algorithm we choose for discretization.
 Modified Euler performance was really awful compared to leapfrog. 
Results generated by leapfrog method were really good.

I also wrote tests for the HMC algorithm. I was thinking of using mock as it was already being used in tests for other sampling methods in pgmpy, but my mentor recommended to generate samples and apply inference on them. 
This also took a great deal of time, as I was to choose a model a hand tune the parameters so that tests don't become too much slow.

This week also we weren't able to settle upon the parameterization of model as discussed in previous post, and we don't have any leads in that matter as of now.
For the next week I'll clean up the code and try think more harder on the mentioned matter.



## Refrences
[1] Post about numpy for matlab users: https://docs.scipy.org/doc/numpy-dev/user/numpy-for-matlab-users.html#head-e9a492daa18afcd86e84e07cd2824a9b1b651935
[2] GSoC meeting channel: https://gitter.im/pgmpy/pgmpy/GSoC_2016
