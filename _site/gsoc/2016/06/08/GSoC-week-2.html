<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Google Summer of Code week 2</title>
  <meta name="description" content="During this week with some good amount of effort I was able to get ahead from my proposed time-line by writing sample method. My this week's time was spend i...">

  <!-- CSS files -->
  <link rel="stylesheet" href="http://khalibartan.github.io/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://khalibartan.github.io/css/main.css">

  <link rel="canonical" href="http://khalibartan.github.io/gsoc/2016/06/08/GSoC-week-2.html">
  <link rel="alternate" type="application/rss+xml" title="utkarsh's blog" href="http://khalibartan.github.io/feed.xml" />
  <link href='../feed.xml' rel='alterante' type='application/rss+xml'>
</head>

<body>
  <nav class="post-navigation" role="navigation">
  <div class="row">
    <div class="col s5">
      <div class="post-nav-prev">
        
        <a href="http://khalibartan.github.io/gsoc/2016/06/04/GSoC-week-1.html" title="Google Summer of Code week 1">
          <div class="post-nav-btn">
            <div class="post-nav-text"><span class="danger-text-color"><i class="fa fa-angle-left"></i> ~ </span><span class="hidden-md primary-text-color">Google Summer of Code week 1</span></div>
          </div>
        </a>
        
      </div>
    </div>
    <div class="col s2">
      <a href="http://khalibartan.github.io/">
        <div class="leonids-icon">
          <i class="fa fa-home"></i>
        </div>
      </a>
    </div>
    <div class="col s5 right">
      <div class="post-nav-next">
        
        <a href="http://khalibartan.github.io/gsoc/2016/06/20/GSoC-week-3-and-4.html" title="Google Summer of Code week 1">
          <div class="post-nav-btn">
            <div class="post-nav-text"><span class="hidden-md primary-text-color">Google Summer of Code week 3 and 4</span><span class="success-text-color"> ~ <i class="fa fa-angle-right"></i></span></div>
          </div>
        </a>
        
      </div>
    </div>
  </div>
</nav>

  

<div class="container">
  <div id="post">
    <header class="post-header">
      <h1 title="Google Summer of Code week 2">Google Summer of Code week 2</h1>
      <span class="post-meta">
        <span class="post-date">
          8 JUN 2016
        </span>
        •
        <span class="read-time" title="Estimated read time">
  
  
    2 mins read
  
</span>

      </span>

    </header>

    <article class="post-content">
      
      <p>During this week with some good amount of effort I was able to get ahead from my proposed time-line by writing the sample and generate sample methods.
My this week’s time was spend in writing the sample method and reading Handbook of Markov Chain Monte Carlo<a href="http://www.amazon.in/Handbook-Chapman-Handbooks-Statistical-Methods/dp/1420079417">[1]</a>.
My experience of reading book proved rather depressing as I wasn’t able to even partially gasp the content about Monte Carlo given in introductory chapter but seeing <code class="highlighter-rouge">HamiltonianMCda</code> class returning samples  did boost my morale.</p>

<p>Earlier I wasn’t able to test my implementation of find reasonable epsilon method.
There was a bug in it, and it took me a hard time to find it(I treated a single valued 2d numpy.matrix similar to a floating value thus the bug).
Also I found that numpy.array are more flexible than numpy.matrix and even scipy recommends numpy.array over numpy.matrix <a href="https://docs.scipy.org/doc/numpy-dev/user/numpy-for-matlab-users.html#head-e9a492daa18afcd86e84e07cd2824a9b1b651935">[2]</a> (This is conditional, check post for details).
During this week meeting we(community) also decided to use numpy.array instead of numpy.matrix in accordance to the post<a href="https://docs.scipy.org/doc/numpy-dev/user/numpy-for-matlab-users.html#head-e9a492daa18afcd86e84e07cd2824a9b1b651935">[2]</a>.</p>

<p>As sampling method was functional for the first time I was able to actually see the performance of HMC sampling algorithm.
Though theoretically I knew that step-size and number of steps effect performance of algorithm, and on actual run difference was clearly visible.
Sometimes for un-tuned values of step-size (epsilon) and number of steps (calculated using Lambda, see the algorithm 5<a href="http://www.stat.columbia.edu/~gelman/research/published/nuts.pdf">[3]</a>), the algorithm took ages for returning mere 5-6 samples. During adaptation of epsilon in dual averaging algorithm sometimes the epsilon value was decreased by huge exponent which in turn increased the number of steps by the same(exponent), causing algorithm to run for a great deal of time.
 Not only the difference was visible due to these parameters, the sample quality was also effected by algorithm we choose for discretization.
 Modified Euler performance was really awful compared to leapfrog.
 Results generated by leapfrog method were really good.</p>

<p>I also wrote tests for the HMC algorithm. I was thinking of using mock as it was already being used in tests for other sampling methods in pgmpy, but my mentor recommended to generate samples and apply inference on them.
This also took a great deal of time, as I was to choose a model and hand tune the parameters so that tests don’t become too much slow.</p>

<p>This week also me and my mentor weren’t able to settle upon the parameterization of model as discussed in previous post, and we don’t have any leads in that matter as of now.
 For the next week I’ll clean up the code and try think more harder on the mentioned matter.</p>

<h2 id="refrences-and-links">Refrences and Links</h2>

<p>[1] <a href="http://www.amazon.in/Handbook-Chapman-Handbooks-Statistical-Methods/dp/1420079417">Handbook of Markov Chain Monte Carlo</a></p>

<p>[2] <a href="https://docs.scipy.org/doc/numpy-dev/user/numpy-for-matlab-users.html#head-e9a492daa18afcd86e84e07cd2824a9b1b651935">Post about numpy for matlab users</a></p>

<p>[3] <a href="http://www.stat.columbia.edu/~gelman/research/published/nuts.pdf">Matthew D. Hoffman, Andrew Gelman: Journal of Machine Learning Research 15 (2014) 1351-1381; Algorithm 5: Hamiltonian Monte Carlo with dual-averaging</a></p>

<p>[4] <a href="https://gitter.im/pgmpy/pgmpy/GSoC_2016">pgmpy GSoC meeting channel</a></p>

    </article>
  </div>

  <div class="share-buttons">
    <h6>Share on: </h6>
    <ul>
      <li>
        <a href="https://twitter.com/intent/tweet?text=http://khalibartan.github.io/gsoc/2016/06/08/GSoC-week-2.html" class="twitter btn" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
      </li>
      <li>
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://khalibartan.github.io/gsoc/2016/06/08/GSoC-week-2.html" class="facebook btn" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
      </li>
      <li>
        <a href="https://plus.google.com/share?url=http://khalibartan.github.io/gsoc/2016/06/08/GSoC-week-2.html" class="google-plus btn" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
      </li>
      <li>
        <a href="https://news.ycombinator.com/submitlink?u=http://khalibartan.github.io/gsoc/2016/06/08/GSoC-week-2.html" class="hacker-news btn" title="Share on Hacker News"><i class="fa fa-hacker-news"></i><span> Hacker News</span></a>
      </li>
      <li>
        <a href="https://www.reddit.com/submit?url=http://khalibartan.github.io/gsoc/2016/06/08/GSoC-week-2.html" class="reddit btn" title="Share on Reddit"><i class="fa fa-reddit"></i><span> Reddit</span></a>
      </li>
    </ul>
  </div><!-- end share-buttons -->

  
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'utgup';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

  
</div>

  <footer>
  &copy; 2016 Utkarsh Gupta
</footer>

  <script type="text/javascript" src="http://khalibartan.github.io/js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="http://khalibartan.github.io/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="http://khalibartan.github.io/js/main.js"></script>


</body>
</html>
