<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>Google Summer of Code week 1 &#8211; Utkarsh's Blog</title> <meta name="description" content="My personal blog"> <meta name="keywords" content="pgmpy, GSoC"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://khalibartan.github.io/assets/img/logo.png"> <meta name="twitter:title" content="Google Summer of Code week 1"> <meta name="twitter:description" content="This week of work proved to be quite productive. I was consistent with my proposed time line. For this week work I proposed to write base class structure for Hamiltonian Monte Carlo (HMC), and implement methods for leapfrog, modified Euler and algorithm for finding a reasonable starting value of epsilon."> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="Google Summer of Code week 1"> <meta property="og:description" content="This week of work proved to be quite productive. I was consistent with my proposed time line. For this week work I proposed to write base class structure for Hamiltonian Monte Carlo (HMC), and implement methods for leapfrog, modified Euler and algorithm for finding a reasonable starting value of epsilon."> <meta property="og:url" content="http://khalibartan.github.io/GSoC-week-1/"> <meta property="og:site_name" content="Utkarsh's Blog"> <meta property="og:image" content="http://khalibartan.github.io/assets/img/logo.png"> <link rel="canonical" href="http://khalibartan.github.io/GSoC-week-1/"> <link href="http://khalibartan.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Utkarsh's Blog Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://khalibartan.github.io/assets/css/main.css"> <!-- JS --> <script src="http://khalibartan.github.io/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://khalibartan.github.io/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://khalibartan.github.io/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://khalibartan.github.io/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://khalibartan.github.io/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://khalibartan.github.io/favicon.png" /> <link rel="shortcut icon" href="http://khalibartan.github.io/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(http://khalibartan.github.io/assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://khalibartan.github.io/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://khalibartan.github.io/assets/img/logo.png" alt="Utkarsh's Blog photo" class="author-photo"> <h4>Utkarsh's Blog</h4> <p>My personal blog</p> </li> <li><a href="http://khalibartan.github.io/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:utkarsh.gupta550@gail.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://plus.google.com/+UtkarshGupta_khalibartan" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-google-plus-square"></i> Google+</a> </li> <li> <a href="http://github.com/khalibartan" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://khalibartan.github.io/posts/">All Posts</a></li> <li><a href="http://khalibartan.github.io/tags/">All Tags</a></li> </ul> </li> <li><a href="http://khalibartan.github.io/projects/" >Projects</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>Google Summer of Code week 1</h1> <h4>04 Jun 2016</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~2 minutes </p><!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://khalibartan.github.io/posts/"> <i class="fa fa-chevron-left"></i> </a> </div> <p>This week of work proved to be quite productive. I was consistent with my proposed time line. For this week work I proposed to write base class structure for Hamiltonian Monte Carlo (HMC), implement methods for leapfrog, modified Euler and algorithm for finding a reasonable starting value of epsilon. During the start I wrote the leapfrog and modified Euler as methods of HMC class, but my mentor told me to write a base class and using that base class write leapfrog and modified Euler as different classes.</p> <p>The earlier structure looked something like this:</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">HamiltonianMCda</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">discretize_time</span><span class="o">=</span><span class="s">'leapfrog'</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="c"># Some arguments and parameters</span>
        <span class="c"># chooses discretization algorithm depending upon</span>
        <span class="c"># the string passed to discretize_time</span>
        <span class="k">pass</span>
    <span class="k">def</span> <span class="nf">leapfrog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
    <span class="k">def</span> <span class="nf">modifiedEuler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</code></pre></div> <p>But why did we settle upon base class implementation? With the earlier structure things were not flexible from user point of view. What if user want to plug-in his own implementations. After the changes I created a base class called <strong>DiscretizeTime</strong> , class inheriting this could then be passed as an argument for discretization of time. Advantage of having a base class is that it provides a basic structure to the things, and adds extensibility. Now things look something like this:</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">DiscretizeTime</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">discretize_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># returns the initialized values</span>
        <span class="k">pass</span>

<span class="k">class</span> <span class="nc">LeapFrog</span><span class="p">(</span><span class="n">DiscretizeTime</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_discretize_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># computes the values and initializes the parameters</span>
        <span class="k">pass</span>

<span class="k">class</span> <span class="nc">HamiltonianMCda</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">discretize_time</span><span class="o">=</span><span class="n">LeapFrog</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="c"># discretize_time is a subclass of DiscretizeTime</span>
        <span class="k">pass</span>
</code></pre></div> <p>Now using these base class user can pass his/her own implementations as an argument.</p> <p>I also wrote other base classes for finding Log of probability Distribution and Gradient of the log. During the time of writing my GSoC proposal me and my couldn’t decide how these methods for finding log and its gradient should be implemented. In this week meeting with the mentor, I proposed that I’ll write method in each model classes we will be implementing, and use that, if user doesn’t provide a class inheriting the base class for gradients and we settled upon it.</p> <p>Though this week work was great, but still there are things which remain unclear, from theoretical point. How to parameterize a continuous model still remains in doubt. Currently I have assumed that model parameterization will be of a matrix or array type structure. This assumption is good enough for the most of the common models I have came across, but things cannot be stated with certainty that it will generalize to all kind of continuous models. Me and my mentor are looking into things more deeply and hopefully we will find some solution soon. For the next week I’ll try to finish the Hamiltonian Monte Carlo sampler.</p> <h2 id="links">Links</h2> <ol> <li><a href="https://github.com/pgmpy/pgmpy/pull/691">Pull request for Hamiltonian Monte Carlo</a></li> <li><a href="https://docs.google.com/document/d/1W0iGbof58Jf98PCK1xKXdHY7-2dUwdctHDppWfE2sO4/edit?usp=sharing">GSoC proposal draft</a></li> </ol> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://khalibartan.github.io/tags/#pgmpy" title="Pages tagged pgmpy" class="tag"><span class="term">pgmpy</span></a><a href="http://khalibartan.github.io/tags/#GSoC" title="Pages tagged GSoC" class="tag"><span class="term">GSoC</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://khalibartan.github.io/GSoC-week-1/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Like</span> </a> <a href="https://twitter.com/intent/tweet?text=http://khalibartan.github.io/GSoC-week-1/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://khalibartan.github.io/GSoC-week-1/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> <script type="text/javascript"> var disqus_shortname = 'khalibartangithubio'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </header> <!-- JS --> <script src="http://khalibartan.github.io/assets/js/jquery-1.12.0.min.js"></script> <script src="http://khalibartan.github.io/assets/js/jquery.dlmenu.min.js"></script> <script src="http://khalibartan.github.io/assets/js/jquery.goup.min.js"></script> <script src="http://khalibartan.github.io/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://khalibartan.github.io/assets/js/jquery.fitvid.min.js"></script> <script src="http://khalibartan.github.io/assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'khalibartangithubio'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
